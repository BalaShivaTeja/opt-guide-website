import React, { useState } from 'react';

// OPT Guide - Single-file React component
// Built with Tailwind CSS classes for styling (assumes Tailwind set up in project)
// This is a single-page informational site with interactive Start Date picker

export default function OPTGuide() {
  const [programEndDate, setProgramEndDate] = useState('');
  const [startDate, set<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>OPT Guide for International Students</title>

<meta name="description" content="Step-by-step Post Completion OPT guide for F-1 International Students. Includes start date rules, I-765 filing instructions, SEVP portal reporting, and unemployment limits.">

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- React / Babel CDN -->
<script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<style>
  html { scroll-behavior: smooth; }
  body { -webkit-font-smoothing: antialiased; font-family: system-ui, sans-serif; }
</style>
</head>

<body class="bg-gray-50">
<div id="root"></div>

<!-- =================== INLINE REACT APP =================== -->
<script type="text/babel">

function OPTGuide() {
  const { useState } = React;

  const [programEndDate, setProgramEndDate] = useState('');
  const [startDate, setStartDate] = useState('');
  const [errors, setErrors] = useState([]);
  const [showSummary, setShowSummary] = useState(false);

  function parseDate(d) {
    if (!d) return null;
    const t = new Date(d + "T00:00:00");
    return Number.isNaN(t.getTime()) ? null : t;
  }

  function validateDates() {
    const errs = [];
    const pEnd = parseDate(programEndDate);
    const sDate = parseDate(startDate);

    if (!pEnd) errs.push("‚ùó Please enter a valid Program End Date.");
    if (!sDate) errs.push("‚ùó Please enter a valid OPT Start Date.");

    if (pEnd && sDate) {
      const min = new Date(pEnd);
      min.setDate(min.getDate() + 1);

      const max = new Date(pEnd);
      max.setDate(max.getDate() + 60);

      if (sDate < min || sDate > max) {
        errs.push("‚ö† OPT start date must be within 60 days after your program end date.");
      }
    }

    setErrors(errs);
    return errs.length === 0;
  }

  function handleCheck(e) {
    e.preventDefault();
    const ok = validateDates();
    setShowSummary(ok);
  }

  return (
    <div className="min-h-screen bg-gradient-to-b from-sky-50 to-white p-6">
      <header className="max-w-4xl mx-auto text-center py-8">
        <h1 className="text-4xl font-extrabold text-sky-800">OPT Guide for F-1 Students</h1>
        <p className="mt-3 text-gray-700 text-lg">Understand Post-Completion OPT, deadlines, documents, and employment rules.</p>
      </header>

      <main className="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6">
        <section className="lg:col-span-2 bg-white shadow-lg rounded-2xl p-6">
        
          <h2 className="text-2xl font-semibold text-gray-800">OPT Overview</h2>
          <p className="mt-2 text-gray-700">
            OPT allows F-1 students to work in the U.S. for up to 12 months in a job directly related to their major.
            <strong> You do NOT need a job offer to apply.</strong>
          </p>

          <article className="mt-6">
            <h3 className="text-xl font-bold text-gray-800">üìå Selecting Your Start Date</h3>
            <p className="mt-2 text-gray-700">
              You MUST choose an OPT start date within the 60-day period after your program end date.
              Once your I-765 is filed, changing your start date may not be possible.
            </p>
          </article>

          <article className="mt-6">
            <h3 className="text-xl font-bold text-gray-800">üìÑ Required Documents</h3>
            <ul className="list-disc pl-6 mt-2 text-gray-700">
              <li>New I-20 with OPT recommendation</li>
              <li>Passport ID page</li>
              <li>Visa page</li>
              <li>I-94 printout</li>
              <li>Two U.S. passport photos (2x2 inches)</li>
              <li>Previous EAD (if any)</li>
            </ul>
          </article>

          <article className="mt-6">
            <h3 className="text-xl font-bold text-gray-800">üßæ Filing Your OPT</h3>
            <p className="mt-2 text-gray-700">
              After you receive the updated I-20, you can file your I-765 online.
            </p>
            <a href="https://www.uscis.gov/i-765" target="_blank" className="underline text-sky-700 font-semibold">USCIS I-765 Filing Portal</a>
          </article>

          <article className="mt-6">
            <h3 className="text-xl font-bold text-gray-800">üìå Unemployment Limit</h3>
            <p className="mt-2 text-gray-700">
              You cannot exceed <strong>90 days of unemployment</strong> during OPT.
              Employment must be related to your major and reported in SEVP Portal.
            </p>
          </article>

        </section>

        <aside className="bg-white shadow rounded-2xl p-6">
          <h3 className="text-xl font-bold text-gray-800">üßÆ OPT Start Date Checker</h3>

          <form className="mt-4" onSubmit={handleCheck}>
            <label className="block text-sm font-medium text-gray-700">Program End Date</label>
            <input type="date" value={programEndDate} onChange={e => setProgramEndDate(e.target.value)}
              className="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2" />

            <label className="block text-sm font-medium text-gray-700 mt-4">Desired OPT Start Date</label>
            <input type="date" value={startDate} onChange={e => setStartDate(e.target.value)}
              className="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2" />

            <button className="mt-4 w-full py-2 rounded-lg bg-sky-700 text-white font-semibold hover:bg-sky-800">
              Validate
            </button>
          </form>

          {errors.length > 0 && (
            <div className="mt-4 bg-red-50 border border-red-200 text-red-800 p-3 rounded">
              <ul className="list-disc pl-5">
                {errors.map((err, i) => <li key={i}>{err}</li>)}
              </ul>
            </div>
          )}

          {showSummary && (
            <div className="mt-4 bg-green-50 border border-green-200 text-green-800 p-3 rounded">
              <h4 className="font-semibold">‚úî Valid OPT Start Date</h4>
              <p className="mt-2 text-sm">Keep a copy of your I-20 and the USCIS receipt notice.</p>
            </div>
          )}
        </aside>
      </main>

      <footer className="max-w-4xl mx-auto text-center py-10 text-gray-600 text-sm">
        <p>‚ö† This website provides general guidance only. Contact your DSO for school-specific instructions.</p>
      </footer>
    </div>
  );
}

// Render App
const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(<OPTGuide />);

</script>
<!-- ============================================================== -->

</body>
</html>
StartDate] = useState('');
  const [errors, setErrors] = useState([]);
  const [showSummary, setShowSummary] = useState(false);

  function parseDate(d) {
    if (!d) return null;
    const t = new Date(d + 'T00:00:00');
    return Number.isNaN(t.getTime()) ? null : t;
  }

  function validateDates() {
    const errs = [];
    const pEnd = parseDate(programEndDate);
    const sDate = parseDate(startDate);
    if (!pEnd) errs.push('Please enter a valid Program End Date.');
    if (!sDate) errs.push('Please enter a valid OPT Start Date.');
    if (pEnd && sDate) {
      // Start date must be between the day after program end and 60 days after
      const min = new Date(pEnd);
      min.setDate(min.getDate() + 1);
      const max = new Date(pEnd);
      max.setDate(max.getDate() + 60);
      if (sDate < min || sDate > max) {
        errs.push('Your chosen OPT start date must be within 60 days after your program end date (the day after program end through 60 days).');
      }
    }
    setErrors(errs);
    return errs.length === 0;
  }

  function handleCheck(e) {
    e.preventDefault();
    const ok = validateDates();
    setShowSummary(ok);
  }

  return (
    <div className="min-h-screen bg-gradient-to-b from-sky-50 to-white p-6">
      <header className="max-w-4xl mx-auto text-center py-8">
        <h1 className="text-4xl font-extrabold">OPT Guide for International Students</h1>
        <p className="mt-3 text-gray-700">A clear, interactive primer to help you prepare and file for Post-Completion OPT.</p>
      </header>

      <main className="max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6">
        <section className="lg:col-span-2 bg-white shadow-lg rounded-2xl p-6">
          <h2 className="text-2xl font-semibold">Walkthrough &amp; Sections</h2>
          <p className="mt-3 text-gray-600">This site compiles official guidance, the attached OPT tutorial, and practical tips you need to apply. Use the left panel to test your dates and the sections below to learn details.</p>

          <article className="mt-6">
            <h3 className="text-xl font-semibold">1. Overview & Eligibility</h3>
            <p className="mt-2 text-gray-700">You can apply for Post-Completion OPT if you are an F-1 degree-seeking student who has maintained F-1 status for at least one academic year and completed all required coursework. You do not need a job offer to apply. This site summarizes eligibility and points you to official resources.</p>
          </article>

          <article className="mt-6">
            <h3 className="text-xl font-semibold">2. Pick a Start Date (IMPORTANT)</h3>
            <p className="mt-2 text-gray-700">You must select an OPT start date that falls within the 60-day grace period after your program end date. Once your application is submitted to USCIS, changing the start date is difficult or impossible. If USCIS cannot process your request by your requested date, your card's official start date will control.</p>
          </article>

          <article className="mt-6">
            <h3 className="text-xl font-semibold">3. Documents Checklist</h3>
            <ul className="list-disc pl-6 mt-2 text-gray-700">
              <li>Copy of passport photo page</li>
              <li>Copy of most recent U.S. visa</li>
              <li>Copy of I-94 (electronic)</li>
              <li>Two passport-style photos (taken within 30 days)</li>
              <li>Copy of any previous EAD cards (if applicable)</li>
              <li>New I-20 with OPT recommendation (signed &amp; dated)</li>
            </ul>
          </article>

          <article className="mt-6">
            <h3 className="text-xl font-semibold">4. Submit I-20 Request &amp; File I-765</h3>
            <p className="mt-2 text-gray-700">First request a new I-20 from your Designated School Official (DSO) with the OPT recommendation. Then file Form I-765 (Application for Employment Authorization) with USCIS. You can file online (recommended) or by mail. Pay attention to file types, sizes, and naming conventions when uploading documents.</p>
          </article>

          <article className="mt-6">
            <h3 className="text-xl font-semibold">5. After Submitting</h3>
            <p className="mt-2 text-gray-700">Keep your I-797 receipt and tracking info. USCIS processing times vary; you may wait several weeks to months. Do not begin work until you receive your EAD card and the start date has arrived. Travel while your application is pending carries risk‚Äîconsult your international office.</p>
          </article>

          <article className="mt-6">
            <h3 className="text-xl font-semibold">6. SEVP Portal & Reporting</h3>
            <p className="mt-2 text-gray-700">Once your OPT begins you must create the SEVP Portal account and report employer/address information. Update the portal within 10 days of changes. Track your employment carefully; up to 90 days of unemployment is allowed during the OPT period.</p>
          </article>

          <article className="mt-6">
            <h3 className="text-xl font-semibold">7. Travel, Unemployment &amp; Maintaining Status</h3>
            <p className="mt-2 text-gray-700">You are allotted 90 days of unemployment during your 12-month OPT. Maintain direct relationship to your major. Travel after program end while the application is pending is risky and generally not recommended.</p>
          </article>
        </section>

        <aside className="bg-white shadow rounded-2xl p-6">
          <h3 className="text-xl font-semibold">Interactive Date Checker</h3>
          <form className="mt-4" onSubmit={handleCheck}>
            <label className="block text-sm font-medium text-gray-700">Program End Date</label>
            <input type="date" value={programEndDate} onChange={e => setProgramEndDate(e.target.value)} className="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2" />

            <label className="block text-sm font-medium text-gray-700 mt-4">Desired OPT Start Date</label>
            <input type="date" value={startDate} onChange={e => setStartDate(e.target.value)} className="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2" />

            <button className="mt-4 w-full py-2 rounded-lg bg-sky-600 text-white font-semibold hover:bg-sky-700">Check Validity</button>
          </form>

          {errors.length > 0 && (
            <div className="mt-4 bg-red-50 border border-red-200 text-red-800 p-3 rounded">
              <ul className="list-disc pl-5">
                {errors.map((err, i) => <li key={i}>{err}</li>)}
              </ul>
            </div>
          )}

          {showSummary && (
            <div className="mt-4 bg-green-50 border border-green-200 text-green-800 p-3 rounded">
              <h4 className="font-semibold">Good news ‚Äî your start date is within the allowed 60-day window.</h4>
              <p className="mt-2 text-sm">Remember: once filed, changing the date is difficult. Keep copies of all documents and the USCIS receipt notice.</p>
            </div>
          )}

          <div className="mt-6 text-sm text-gray-600">
            <p><strong>Quick links</strong></p>
            <ul className="mt-2 list-none">
              <li><a className="underline" href="https://www.uscis.gov/i-765" target="_blank" rel="noreferrer">USCIS Form I-765 (file)</a></li>
              <li><a className="underline" href="https://studyinthestates.dhs.gov/" target="_blank" rel="noreferrer">SEVP / Study in the States</a></li>
            </ul>
          </div>
        </aside>
      </main>

      <footer className="max-w-4xl mx-auto text-center py-8 text-gray-600">
        <p>Content is informational only ‚Äî check with your school's international office or an immigration attorney for legal advice.</p>
      </footer>
    </div>
  );
}
